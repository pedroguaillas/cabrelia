---
import { Image } from "astro:assets";
import essential1 from "../assets/essential1.avif";
import essential3 from "../assets/essential3.jpg";
import essential4 from "../assets/essential4.jpg";

const products = [
  { image: essential4, name: "Hoodie Clásico", tag: "Nuevo", price: "$1,299" },
  { image: essential1, name: "Joggers Essential", tag: "Top ventas", price: "$899" },
  { image: essential3, name: "Oversize Tee", tag: "Limitado", price: "$649" },
];
---

<section id="mas-vendidos" class="container mx-auto py-20 px-6">
  <div class="flex flex-col md:flex-row md:items-end md:justify-between mb-14 gap-4" data-reveal>
    <div>
      <p class="text-[11px] tracking-[0.3em] uppercase text-cabrelia-muted mb-3">Lo que más se lleva</p>
      <h2 class="text-4xl sm:text-5xl md:text-6xl font-serif italic text-indigo-950 opacity-90 tracking-tighter leading-none">
        Más vendidos
      </h2>
    </div>
    <a
      href="#"
      class="text-[10px] font-bold uppercase tracking-widest text-indigo-950 border-b border-indigo-950 pb-1 hover:opacity-60 transition-opacity duration-300 self-start md:self-auto"
    >
      Ver todo &rarr;
    </a>
  </div>

  <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6" data-stagger>
    {products.map((product) => (
      <a href="#" class="group cursor-pointer" data-reveal>
        <div class="relative aspect-[3/4] overflow-hidden rounded-2xl bg-gray-100">
          <Image
            src={product.image}
            width={640}
            height={854}
            alt={product.name}
            class="w-full h-full object-cover transition-transform duration-700 ease-out group-hover:scale-105"
          />

          <!-- Tag -->
          <span class="absolute top-4 left-4 bg-white/90 backdrop-blur-sm text-[9px] font-bold uppercase tracking-widest text-indigo-950 px-4 py-1.5 rounded-full">
            {product.tag}
          </span>

          <!-- Quick action button -->
          <div class="absolute bottom-0 left-0 right-0 p-5 translate-y-full opacity-0 group-hover:translate-y-0 group-hover:opacity-100 transition-all duration-500 ease-out">
            <div class="bg-indigo-950 text-white text-center py-3 rounded-full text-[10px] font-bold uppercase tracking-widest hover:bg-indigo-900 transition-colors duration-300">
              Agregar al carrito
            </div>
          </div>

          <!-- Gradient overlay on hover -->
          <div class="absolute inset-0 bg-gradient-to-t from-black/30 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500" />
        </div>

        <!-- Product info -->
        <div class="mt-5 flex justify-between items-start px-1">
          <div>
            <h3 class="text-sm font-medium text-cabrelia-black group-hover:text-indigo-950 transition-colors duration-300">
              {product.name}
            </h3>
            <p class="text-[11px] text-cabrelia-muted mt-1 tracking-wide">Cabrelia Essentials</p>
          </div>
          <p class="text-sm font-semibold text-indigo-950">
            {product.price}
          </p>
        </div>
      </a>
    ))}
  </div>
</section>
